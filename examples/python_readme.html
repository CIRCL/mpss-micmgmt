<!-- Copyright 2010-2013 Intel Corporation.
<!--
<!-- This library is free software; you can redistribute it and/or modify it
<!-- under the terms of the GNU Lesser General Public License as published
<!-- by the Free Software Foundation, version 2.1.
<!--
<!-- This library is distributed in the hope that it will be useful,
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
<!-- Lesser General Public License for more details.
<!--
<!-- Disclaimer: The codes contained in these modules may be specific
<!-- to the Intel Software Development Platform codenamed Knights Ferry,
<!-- and the Intel product codenamed Knights Corner, and are not backward
<!-- compatible with other Intel products. Additionally, Intel will NOT
<!-- support the codes or instruction set in future products.
<!--
<!-- Intel offers no warranty of any kind regarding the code. This code is
<!-- licensed on an "AS IS" basis and Intel is not obligated to provide
<!-- any support, assistance, installation, training, or other services
<!-- of any kind. Intel is also not obligated to provide any updates,
<!-- enhancements or extensions. Intel specifically disclaims any warranty
<!-- of merchantability, non-infringement, fitness for any particular
<!-- purpose, and any other warranty.
<!--
<!-- Further, Intel disclaims all liability of any kind, including but
<!-- not limited to liability for infringement of any proprietary rights,
<!-- relating to the use of the code, even if Intel is notified of the
<!-- possibility of such liability. Except as expressly stated in an Intel
<!-- license agreement provided with this code and agreed upon with Intel,
<!-- no license, express or implied, by estoppel or otherwise, to any
<!-- intellectual property rights is granted herein.
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.7" />
<title>micmgmt.py: MicMgmt Python Bindings</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

pre {
  padding: 0;
  margin: 0;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

tt {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
}

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

.monospaced {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
}

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}
</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>micmgmt.py: MicMgmt Python Bindings</h1>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>micmgmt.py is a Python module that provides bindings for the MicMgmt SDK library.
This module is exported for our external customers or cluster ISVs to aid in
developing custom cluster functionality to programmatically access and
control some of the hardware registers and parameters of the MIC family of cards.
Using micmgmt.py allows operations such as monitoring voltage and
temperature sensor readings on the card, controlling related thresholds and limits,
or getting information about cores and memory.</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_1_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>Internally, micmgmt.py loads libmicmgmt.so, the shared library for MicMgmt SDK.
libmicmgmt.so is in turn dependent on libscif.so. Both of these libraries are
included in our RPM package. Please make sure you have both of them installed.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>micmgmt.py is an easy-to-use module, shipping only two classes:
    -MicDevice: This class will channel all communications to specified
        Intel(R) Xeon Phi(TM) Coprocessor.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>-MicException: Base exception class to raise exceptions specific to MicMgmt SDK.</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_2_installation">2. Installation</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>For installing micmgmt.py to standard python installation location
please follow the instructions below:</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>export PYTHONDONTWRITEBYTECODE=1
cd /opt/intel/mic/mgmt/sdk/examples
python setup.py build
python setup.py install</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_2_tutorial">2. Tutorial</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>Writing code using micmgmt.py is very simple. The first step is creating an instance
of MicDevice. The constructor for this class expects an integer specifying the
card number to initialize.</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        &gt;&gt;&gt; import micmgmt
        &gt;&gt;&gt; mic = micmgmt.MicDevice(0) # Open device mic0</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>Simple as that. Object 'mic' is now able to communicate with mic0 card. From there,
you can retrieve values using simple method calls. More on that later.</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>If a multi-card setup is present, you may want to query information from more than
one device. This can be done using the function 'mic_get_ndevices', which returns
the number of Intel(R) Xeon Phi(TM) Coprocessor devices present. Please note that
this is a module-level function, rather than a class method.</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        &gt;&gt;&gt; import micmgmt
        &gt;&gt;&gt; device_count = micmgmt.mic_get_ndevices()
        &gt;&gt;&gt; for device in range(device_count):
        &gt;&gt;&gt;     #Get some values</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>To retrieve values from the card, you will have to call MicDevice's methods*.</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        &gt;&gt;&gt; import micmgmt
        &gt;&gt;&gt; device_count = micmgmt.mic_get_ndevices()
        &gt;&gt;&gt; for device in range(device_count):
        &gt;&gt;&gt;     mic = micmgmt.MicDevice(device)
        &gt;&gt;&gt;     card_name = mic.mic_get_device_name()
        &gt;&gt;&gt;     die_temp = mic.mic_get_die_temp()
        &gt;&gt;&gt;     print "Die temp for card %s = %d" % (card_name, die_temp)</tt></pre>
</div></div>
<div class="ulist"><ul>
<li>
<p>
See section "Important note on variable values"
</p>
</li>
</ul></div>
</div>
</div>
<div class="sect1">
<h2 id="_2_1_important_note_on_variable_values">2.1 Important note on variable values</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>Some of the values available via MicDevice objects are, by nature, subject to
change. Take fan RPMs, for example. Any two readings at a given time may differ from
one another. Such changing values are to be refreshed by calling update methods:</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        - mic_update_thermal_info
        - mic_update_core_util
        - mic_update_memory_util
        - mic_update_power_util</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>As long as an update method isn't called, subsequent calls for any function returning
variable values will report the same result:</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        &gt;&gt;&gt; import micmgmt
        &gt;&gt;&gt; mic = micmgmt.MicDevice(0)
        &gt;&gt;&gt; print mic.mic_get_available_memory_size()
        5654260
        &gt;&gt;&gt; print mic.mic_get_available_memory_size()
        5654260
        &gt;&gt;&gt; print mic.mic_get_available_memory_size() #Previous calls report the same value
        5654260
        &gt;&gt;&gt; mic.mic_update_memory_util() #Call the update method
        &gt;&gt;&gt; print mic.mic_get_available_memory_size() #After update:
        5654136
        &gt;&gt;&gt; #Value changed</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_example_on_refreshing_values">Example on refreshing values:</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><tt>        &gt;&gt;&gt; import micmgmt
        &gt;&gt;&gt; mic = micmgmt.MicDevice(0)
        &gt;&gt;&gt; mem1 = mic.mic_get_available_memory_size() # Get sample 1
        &gt;&gt;&gt; mic.mic_update_memory_util() # Update memory utilization values
        &gt;&gt;&gt; mem2 = mic.mic_get_available_memory_size() #Get sample 2
        &gt;&gt;&gt; print "Memory util delta = %d" % (mem2 - mem1)
        Memory util delta = -124</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>For a more detailed explanation on how to refresh values, refer to the standard Python
documentation by calling 'help(micmgmt)' after having imported the module. The documentation
for each update method includes a list of refreshable values.</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_3_more_information">3. More information</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>For further information on micmgmt.py, such as a full list of available methods and
functionalities, please take a look at the standard documentation:</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        &gt;&gt;&gt; import micmgmt
        &gt;&gt;&gt; help(micmgmt)</tt></pre>
</div></div>
<div class="literalblock">
<div class="content">
<pre><tt>If you wish to see more examples, go ahead and review the following:</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        - /opt/intel/mic/mgmt/sdk/examples/src/examples.py
        - /opt/intel/mic/mgmt/sdk/examples/src/example_version.py</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_4_examples">4. Examples</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre><tt>The following example code is taken from /opt/intel/mic/mgmt/sdk/examples/src/examples.py.
You will find a few functions that receive as a parameter a MicDevice object. From each
function, several values will be queried from the card.</tt></pre>
</div></div>
<div class="listingblock">
<div class="content">
<pre><tt>        import micmgmt

        def do_pci_config_examples(mic):
            try:
                print "\tVendor ID: %s" % hex(mic.mic_get_vendor_id())
            except micmgmt.MicException as e:
                print "\tFailed to get vendor ID: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tDevice ID: %s" % hex(mic.mic_get_device_id())
            except micmgmt.MicException as e:
                print "\tFailed to get device ID: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tRevision ID: %s" % hex(mic.mic_get_revision_id())
            except micmgmt.MicException as e:
                print "\tFailed to get revision ID: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tSubsystem ID: %s" % hex(mic.mic_get_subsystem_id())
            except micmgmt.MicException as e:
                print "\tFailed to get subsystem ID: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tSubsystem ID: %s" % hex(mic.mic_get_subsystem_id())
            except micmgmt.MicException as e:
                print "\tFailed to get subsystem ID: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tLink width: %s" % str(mic.mic_get_link_width())
            except micmgmt.MicException as e:
                print "\tFailed to get link width: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMax payload: %s" % str(mic.mic_get_max_payload())
            except micmgmt.MicException as e:
                print "\tFailed to get max payload: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMax readreq: %s" % str(mic.mic_get_max_readreq())
            except micmgmt.MicException as e:
                print "\tFailed to get max readreq: %s: %s" % (mic.mic_get_device_name(), e)

        def do_memory_examples(mic):
            try:
                print "\tMemory vendor: %s" % mic.mic_get_memory_vendor()
            except micmgmt.MicException as e:
                print "\tFailed to get memory vendor: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMemory revision: %s" % str(mic.mic_get_memory_revision())
            except micmgmt.MicException as e:
                print "\tFailed to get memory revision: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMemory density: %s kb/device" % str(mic.mic_get_memory_density())
            except micmgmt.MicException as e:
                print "\tFailed to get memory density: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMemory density: %s kB" % str(mic.mic_get_memory_size())
            except micmgmt.MicException as e:
                print "\tFailed to get memory size: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMemory type: %s" % mic.mic_get_memory_type()
            except micmgmt.MicException as e:
                print "\tFailed to get memory type: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMemory frequency: %s kHz" % str(mic.mic_get_memory_frequency())
            except micmgmt.MicException as e:
                print "\tFailed to get memory frequency: %s: %s" % (mic.mic_get_device_name(), e)

            try:
                print "\tMemory voltage: %s uV" % str(mic.mic_get_memory_voltage())
            except micmgmt.MicException as e:
                print "\tFailed to get memory voltage: %s: %s" % (mic.mic_get_device_name(), e)

        if __name__ == '__main__':
            # Get number of devices:
            device_count = micmgmt.mic_get_ndevices()

            # Iterate over cards in system
            for device in range(device_count):
                mic = micmgmt.MicDevice(0)
                print "Found KNC device: %s" % mic.mic_get_device_name()
                do_pci_config_examples(mic)
                do_memory_examples(mic)</tt></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_intel_corporation_proprietary_information">INTEL CORPORATION PROPRIETARY INFORMATION</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="content">
<pre><tt>Copyright 2013-2015 Intel Corporation. All Rights Reserved.

Intel makes no warranty of any kind regarding this code. This code is
licensed on an "AS IS" basis and Intel will not provide any support,
assistance, installation, training,  or other services. Intel may not
provide any updates, enhancements or extensions to this code. Intel
specifically disclaims any warranty of merchantability, non-infringement,
fitness for any particular purpose, or any other warranty. Intel disclaims
all liability, including liability for infringement of any proprietary
rights, relating to use of the code. No license, express or implied, by
estoppel or otherwise, to any intellectual property rights is granted
herein.

Designers must not rely on the absence or characteristics of any features or
instructions marked "reserved" or "undefined". Intel reserves
these for future definition and shall have no responsibility whatsoever for
conflicts or incompatibilities arising from future changes to them.

    Xeon, and Intel Xeon Phi are trademarks of Intel Corporation in the
    U.S. and/or other countries.</tt></pre>
</div></div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2015-03-02 15:10:54 UTC
</div>
</div>
</body>
</html>
